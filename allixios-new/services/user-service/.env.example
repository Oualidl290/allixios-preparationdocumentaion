# User Service Environment Configuration
# Copy this file to .env and update the values

# ===========================================
# SERVER CONFIGURATION
# ===========================================

NODE_ENV=development
USER_SERVICE_PORT=3002
HOST=0.0.0.0

# ===========================================
# DATABASE CONFIGURATION
# ===========================================

# PostgreSQL
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=allixios
POSTGRES_USER=allixios_user
POSTGRES_PASSWORD=allixios_password
POSTGRES_SSL=false
POSTGRES_MAX_CONNECTIONS=20

# Redis
REDIS_URL=redis://localhost:6379
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=100

# ===========================================
# AUTHENTICATION CONFIGURATION
# ===========================================

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-min-32-chars
JWT_EXPIRES_IN=24h
REFRESH_TOKEN_EXPIRES_IN=7d

# Password & Security
BCRYPT_ROUNDS=12
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=900000

# Session Configuration
SESSION_SECRET=your-session-secret-key-change-this-in-production-min-32-chars
SESSION_MAX_AGE=86400000
SESSION_SECURE=false
SESSION_HTTP_ONLY=true

# ===========================================
# MFA CONFIGURATION
# ===========================================

MFA_ISSUER=Allixios
MFA_WINDOW=2
MFA_QR_CODE_SIZE=200

# ===========================================
# EMAIL CONFIGURATION
# ===========================================

# SMTP Settings
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# Email Templates
EMAIL_FROM=noreply@allixios.com
EMAIL_TEMPLATE_WELCOME=welcome
EMAIL_TEMPLATE_PASSWORD_RESET=password-reset
EMAIL_TEMPLATE_EMAIL_VERIFICATION=email-verification
EMAIL_TEMPLATE_MFA_SETUP=mfa-setup

# ===========================================
# CORS CONFIGURATION
# ===========================================

CORS_ORIGIN=http://localhost:3000,http://localhost:3001

# ===========================================
# RATE LIMITING
# ===========================================

RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=1000
AUTH_RATE_LIMIT_WINDOW_MS=900000
AUTH_RATE_LIMIT_MAX=10

# ===========================================
# PASSWORD POLICY
# ===========================================

PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL_CHARS=true
PASSWORD_MAX_AGE=7776000000

# ===========================================
# ACCOUNT SETTINGS
# ===========================================

EMAIL_VERIFICATION_REQUIRED=true
EMAIL_VERIFICATION_EXPIRY=86400000
PASSWORD_RESET_EXPIRY=3600000
MAX_SESSIONS=5

# ===========================================
# LOGGING CONFIGURATION
# ===========================================

LOG_LEVEL=info
LOG_FORMAT=json

# ===========================================
# FEATURE FLAGS
# ===========================================

ENABLE_MFA=true
ENABLE_SOCIAL_LOGIN=true
ENABLE_PASSWORD_HISTORY=true
ENABLE_ACCOUNT_LOCKING=true
ENABLE_AUDIT_LOG=true

# ===========================================
# EXTERNAL SERVICES
# ===========================================

# Content Service
CONTENT_SERVICE_URL=http://localhost:3001

# Analytics Service
ANALYTICS_SERVICE_URL=http://localhost:3003

# Notification Service
NOTIFICATION_SERVICE_URL=http://localhost:3006

# ===========================================
# MONITORING & OBSERVABILITY
# ===========================================

# Sentry (Error Tracking)
SENTRY_DSN=your-sentry-dsn

# New Relic
NEW_RELIC_LICENSE_KEY=your-new-relic-license-key
NEW_RELIC_APP_NAME=allixios-user-service

# ===========================================
# SOCIAL LOGIN (Optional)
# ===========================================

# Google OAuth
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Facebook OAuth
FACEBOOK_APP_ID=your-facebook-app-id
FACEBOOK_APP_SECRET=your-facebook-app-secret

# GitHub OAuth
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# ===========================================
# DEVELOPMENT SETTINGS
# ===========================================

# Enable development features
ENABLE_SWAGGER=true
ENABLE_CORS=true
ENABLE_MORGAN_LOGGING=true

# Debug mode
DEBUG=allixios:user-service:*